<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="Nubificus LTD"><link rel=canonical href=https://nubificus.github.io/cloud-native-iot/main/tutorials/filter_uuid.html><link rel=prev href=akri-esp32.html><link rel=next href=../developer/architecture.html><link rel=icon href=../assets/images/cniot-logo.svg><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.16"><title>FlashJob Operator: filter_uuid.py Tutorial - Cloud-native IoT</title><link rel=stylesheet href=../assets/stylesheets/main.7e37652d.min.css><link rel=stylesheet href=../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../assets/_mkdocstrings.css><link rel=stylesheet href=../assets/stylesheets/theme.f2b0e9.min.css><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-X2S0PFR6ZY"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-X2S0PFR6ZY",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-X2S0PFR6ZY",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script></head> <body dir=ltr data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#flashjob-operator-filter_uuidpy-tutorial class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> <aside class="md-banner md-banner--warning"> <div class="md-banner__inner md-grid md-typeset"> You're not viewing the latest released version. <a href=../.. class=md-content__link> <strong>Click here to go to latest.</strong> </a> </div> <script>var el=document.querySelector("[data-md-component=outdated]"),base=new URL(".."),outdated=__md_get("__outdated",sessionStorage,base);!0===outdated&&el&&(el.hidden=!1)</script> </aside> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../index.html title="Cloud-native IoT" class="md-header__button md-logo" aria-label="Cloud-native IoT" data-md-component=logo> <img src=../assets/images/cniot-logo.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Cloud-native IoT </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> FlashJob Operator: filter_uuid.py Tutorial </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=vaccel data-md-color-primary=light-blue data-md-color-accent=deep-purple aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/nubificus/cloud-native-iot title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> nubificus/cloud-native-iot </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../index.html title="Cloud-native IoT" class="md-nav__button md-logo" aria-label="Cloud-native IoT" data-md-component=logo> <img src=../assets/images/cniot-logo.svg alt=logo> </a> Cloud-native IoT </label> <div class=md-nav__source> <a href=https://github.com/nubificus/cloud-native-iot title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> nubificus/cloud-native-iot </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../index.html class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <div class="md-nav__link md-nav__container"> <a href=../getting-started/index.html class="md-nav__link "> <span class=md-ellipsis> Getting started </span> </a> <label class="md-nav__link " for=__nav_2 id=__nav_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Getting started </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../getting-started/prerequisites.html class=md-nav__link> <span class=md-ellipsis> Prerequisites </span> </a> </li> <li class=md-nav__item> <a href=../getting-started/quickstart.html class=md-nav__link> <span class=md-ellipsis> Quickstart Guide </span> </a> </li> <li class=md-nav__item> <a href=../getting-started/installation.html class=md-nav__link> <span class=md-ellipsis> Installation </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <div class="md-nav__link md-nav__container"> <a href=../architecture/index.html class="md-nav__link "> <span class=md-ellipsis> Architecture </span> </a> <label class="md-nav__link " for=__nav_3 id=__nav_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Architecture </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../architecture/ota-workflow.html class=md-nav__link> <span class=md-ellipsis> OTA Update Workflow </span> </a> </li> <li class=md-nav__item> <a href=../architecture/onboarding.html class=md-nav__link> <span class=md-ellipsis> Onboarding Workflow </span> </a> </li> <li class=md-nav__item> <a href=../architecture/flashjobworkflow.html class=md-nav__link> <span class=md-ellipsis> FlashJob Operator Lifecycle </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <div class="md-nav__link md-nav__container"> <a href=../components/index.html class="md-nav__link "> <span class=md-ellipsis> Components </span> </a> <label class="md-nav__link " for=__nav_4 id=__nav_4_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Components </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../components/attestation-server.html class=md-nav__link> <span class=md-ellipsis> Attestation Server </span> </a> </li> <li class=md-nav__item> <a href=../components/ota-service.html class=md-nav__link> <span class=md-ellipsis> ESP32 OTA Component </span> </a> </li> <li class=md-nav__item> <a href=../components/esp32-akri.html class=md-nav__link> <span class=md-ellipsis> ESP32 Akri Component </span> </a> </li> <li class=md-nav__item> <a href=../components/ota-agent.html class=md-nav__link> <span class=md-ellipsis> OTA Agent </span> </a> </li> <li class=md-nav__item> <a href=../components/akri-dh.html class=md-nav__link> <span class=md-ellipsis> Secure HTTP Discovery Handler </span> </a> </li> <li class=md-nav__item> <a href=../components/akri-integration.html class=md-nav__link> <span class=md-ellipsis> Akri Integration for Onboarding </span> </a> </li> <li class=md-nav__item> <a href=../components/flashjob.html class=md-nav__link> <span class=md-ellipsis> Flashjob Operator </span> </a> </li> <li class=md-nav__item> <a href=../components/flashjob-pod.html class=md-nav__link> <span class=md-ellipsis> FlashJob Pod </span> </a> </li> <li class=md-nav__item> <a href=../components/go-akri.html class=md-nav__link> <span class=md-ellipsis> Akri Discovery Handler package for Go </span> </a> </li> <li class=md-nav__item> <a href=../components/firmware-signing.html class=md-nav__link> <span class=md-ellipsis> Firmware Signing </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5 checked> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex=0> <span class=md-ellipsis> Tutorials </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=true> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Tutorials </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=ota-agent.html class=md-nav__link> <span class=md-ellipsis> OTA Agent </span> </a> </li> <li class=md-nav__item> <a href=dice-auth.html class=md-nav__link> <span class=md-ellipsis> Attestation Server </span> </a> </li> <li class=md-nav__item> <a href=ota-service.html class=md-nav__link> <span class=md-ellipsis> ESP32 OTA Component </span> </a> </li> <li class=md-nav__item> <a href=akri-esp32.html class=md-nav__link> <span class=md-ellipsis> ESP32 Akri Component </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> FlashJob Operator: filter_uuid.py Tutorial </span> <span class="md-nav__icon md-icon"></span> </label> <a href=filter_uuid.html class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> FlashJob Operator: filter_uuid.py Tutorial </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#overview class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=#prerequisites class=md-nav__link> <span class=md-ellipsis> Prerequisites </span> </a> </li> <li class=md-nav__item> <a href=#script-overview class=md-nav__link> <span class=md-ellipsis> Script Overview </span> </a> </li> <li class=md-nav__item> <a href=#step-by-step-usage class=md-nav__link> <span class=md-ellipsis> Step-by-Step Usage </span> </a> <nav class=md-nav aria-label="Step-by-Step Usage"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1-run-the-script class=md-nav__link> <span class=md-ellipsis> 1. Run the Script </span> </a> </li> <li class=md-nav__item> <a href=#2-filter-akri-instances class=md-nav__link> <span class=md-ellipsis> 2. Filter Akri Instances </span> </a> </li> <li class=md-nav__item> <a href=#3-select-devices class=md-nav__link> <span class=md-ellipsis> 3. Select Devices </span> </a> </li> <li class=md-nav__item> <a href=#4-enter-firmware-details class=md-nav__link> <span class=md-ellipsis> 4. Enter Firmware Details </span> </a> </li> <li class=md-nav__item> <a href=#5-configure-gradual-rollout-optional class=md-nav__link> <span class=md-ellipsis> 5. Configure Gradual Rollout (Optional) </span> </a> </li> <li class=md-nav__item> <a href=#6-apply-the-flashjob class=md-nav__link> <span class=md-ellipsis> 6. Apply the FlashJob </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#example-workflow class=md-nav__link> <span class=md-ellipsis> Example Workflow </span> </a> </li> <li class=md-nav__item> <a href=#generated-flashjob-yaml class=md-nav__link> <span class=md-ellipsis> Generated FlashJob YAML </span> </a> </li> <li class=md-nav__item> <a href=#script-functions class=md-nav__link> <span class=md-ellipsis> Script Functions </span> </a> </li> <li class=md-nav__item> <a href=#tips-notes class=md-nav__link> <span class=md-ellipsis> Tips &amp; Notes </span> </a> </li> <li class=md-nav__item> <a href=#troubleshooting-common-issues class=md-nav__link> <span class=md-ellipsis> Troubleshooting Common Issues </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex=0> <span class=md-ellipsis> Developers </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Developers </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../developer/architecture.html class=md-nav__link> <span class=md-ellipsis> System Architecture </span> </a> </li> <li class=md-nav__item> <a href=../developer/applications.html class=md-nav__link> <span class=md-ellipsis> Application development </span> </a> </li> <li class=md-nav__item> <a href=../developer/build_automation.html class=md-nav__link> <span class=md-ellipsis> Build Automation </span> </a> </li> <li class=md-nav__item> <a href=../developer/firmware_packaging.html class=md-nav__link> <span class=md-ellipsis> Firmware Packaging </span> </a> </li> <li class=md-nav__item> <a href=../developer/initial_flash_packaging.html class=md-nav__link> <span class=md-ellipsis> Initial Flash Packaging </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7> <div class="md-nav__link md-nav__container"> <a href=../api/index.html class="md-nav__link "> <span class=md-ellipsis> API </span> </a> <label class="md-nav__link " for=__nav_7 id=__nav_7_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> API </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../api/openapi-spec.html class=md-nav__link> <span class=md-ellipsis> Device API </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../faq.html class=md-nav__link> <span class=md-ellipsis> FAQ </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#overview class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=#prerequisites class=md-nav__link> <span class=md-ellipsis> Prerequisites </span> </a> </li> <li class=md-nav__item> <a href=#script-overview class=md-nav__link> <span class=md-ellipsis> Script Overview </span> </a> </li> <li class=md-nav__item> <a href=#step-by-step-usage class=md-nav__link> <span class=md-ellipsis> Step-by-Step Usage </span> </a> <nav class=md-nav aria-label="Step-by-Step Usage"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1-run-the-script class=md-nav__link> <span class=md-ellipsis> 1. Run the Script </span> </a> </li> <li class=md-nav__item> <a href=#2-filter-akri-instances class=md-nav__link> <span class=md-ellipsis> 2. Filter Akri Instances </span> </a> </li> <li class=md-nav__item> <a href=#3-select-devices class=md-nav__link> <span class=md-ellipsis> 3. Select Devices </span> </a> </li> <li class=md-nav__item> <a href=#4-enter-firmware-details class=md-nav__link> <span class=md-ellipsis> 4. Enter Firmware Details </span> </a> </li> <li class=md-nav__item> <a href=#5-configure-gradual-rollout-optional class=md-nav__link> <span class=md-ellipsis> 5. Configure Gradual Rollout (Optional) </span> </a> </li> <li class=md-nav__item> <a href=#6-apply-the-flashjob class=md-nav__link> <span class=md-ellipsis> 6. Apply the FlashJob </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#example-workflow class=md-nav__link> <span class=md-ellipsis> Example Workflow </span> </a> </li> <li class=md-nav__item> <a href=#generated-flashjob-yaml class=md-nav__link> <span class=md-ellipsis> Generated FlashJob YAML </span> </a> </li> <li class=md-nav__item> <a href=#script-functions class=md-nav__link> <span class=md-ellipsis> Script Functions </span> </a> </li> <li class=md-nav__item> <a href=#tips-notes class=md-nav__link> <span class=md-ellipsis> Tips &amp; Notes </span> </a> </li> <li class=md-nav__item> <a href=#troubleshooting-common-issues class=md-nav__link> <span class=md-ellipsis> Troubleshooting Common Issues </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <nav class=md-path> <ol class=md-path__list> <li class=md-path__item> <a href=.. class=md-path__link> <span class=md-ellipsis>Tutorials</span> </a> </li> </ol> </nav> <article class="md-content__inner md-typeset"> <h1 id=flashjob-operator-filter_uuidpy-tutorial>FlashJob Operator: <code>filter_uuid.py</code> Tutorial<a class=headerlink href=#flashjob-operator-filter_uuidpy-tutorial title="Permanent link">ðŸ”—</a></h1> <p>This tutorial provides a detailed guide on using the <code>filter_uuid.py</code> script to interact with Akri instances in a Kubernetes cluster, filter devices, and generate a FlashJob YAML for firmware updates using the FlashJob Operator. For instructions on deploying the FlashJob Operator, refer to the <a href=/docs/getting-started/installation.md>installation guide</a>.</p> <h2 id=overview>Overview<a class=headerlink href=#overview title="Permanent link">ðŸ”—</a></h2> <p>The <code>filter_uuid.py</code> script is a Python utility designed to simplify the process of selecting Akri-discovered IoT devices in a Kubernetes cluster and generating a FlashJob YAML file for firmware flashing. It supports filtering devices by UUID, device type, and application type, allows user selection of devices, and enables gradual rollout of firmware updates in batches.</p> <h2 id=prerequisites>Prerequisites<a class=headerlink href=#prerequisites title="Permanent link">ðŸ”—</a></h2> <p>Before using the <code>filter_uuid.py</code> script, ensure the following are in place:</p> <ul> <li><strong>Python 3.x</strong>: Installed on your system.</li> <li><strong>Required Python Packages</strong>: <div class="language-bash highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a>pip<span class=w> </span>install<span class=w> </span>kubernetes<span class=w> </span>pyyaml
</span></code></pre></div></li> <li><strong>Kubernetes Cluster</strong>: A running Kubernetes (e.g., k3s) cluster with Akri instances configured.</li> <li><strong>kubectl</strong>: Configured with access to the cluster (ensure the correct context is set).</li> <li><strong>FlashJob Operator</strong>: Deployed in the cluster. Refer to <a href=/docs/getting-started/installation.md>installation</a> for deployment instructions.</li> <li><strong>Akri Instances</strong>: Configured in the <code>default</code> namespace (or modify the script for other namespaces).</li> </ul> <h2 id=script-overview>Script Overview<a class=headerlink href=#script-overview title="Permanent link">ðŸ”—</a></h2> <p>The <code>filter_uuid.py</code> script performs the following tasks:</p> <ol> <li><strong>Fetch Akri Instances</strong>: Retrieves Akri instances from the Kubernetes API server.</li> <li><strong>Filter Instances</strong>: Filters devices based on user-provided criteria (UUID, device type, application type).</li> <li><strong>User Selection</strong>: Allows interactive selection of specific or all Akri instances.</li> <li><strong>Firmware Specification</strong>: Prompts for firmware image details.</li> <li><strong>Gradual Rollout</strong>: Supports batch-based firmware updates with configurable batch sizes and delays.</li> <li><strong>YAML Generation</strong>: Saves selected UUIDs and firmware details to a FlashJob YAML file.</li> <li><strong>Apply YAML</strong>: Applies the generated YAML to the cluster using <code>kubectl</code>.</li> </ol> <h2 id=step-by-step-usage>Step-by-Step Usage<a class=headerlink href=#step-by-step-usage title="Permanent link">ðŸ”—</a></h2> <h3 id=1-run-the-script>1. Run the Script<a class=headerlink href=#1-run-the-script title="Permanent link">ðŸ”—</a></h3> <p>To use the <code>filter_uuid.py</code> script, first clone the FlashJob Operator repository:</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a>git<span class=w> </span>clone<span class=w> </span>https://github.com/nubificus/flashjob_operator
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a><span class=nb>cd</span><span class=w> </span>flashjob_operator
</span></code></pre></div> <p>Execute the script in a terminal:</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a>python3<span class=w> </span>filter_uuid.py
</span></code></pre></div> <p>The script will guide you through an interactive process to filter devices, select instances, and configure firmware updates.</p> <h3 id=2-filter-akri-instances>2. Filter Akri Instances<a class=headerlink href=#2-filter-akri-instances title="Permanent link">ðŸ”—</a></h3> <p>The script prompts you to filter Akri instances based on the following criteria:</p> <ul> <li><strong>Device Type</strong>: Filter devices by their type (e.g., <code>esp32</code>). Press Enter to skip.</li> <li><strong>Application Type</strong>: Filter by application type (e.g., <code>thermo</code>). Press Enter to skip.</li> <li><strong>UUID</strong>: Filter by a specific UUID. Press Enter to skip.</li> </ul> <p>Example prompt:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a>Enter device type to filter (or press Enter to skip): esp32
</span><span id=__span-3-2><a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a>Enter application type to filter (or press Enter to skip): thermo
</span><span id=__span-3-3><a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a>Enter UUID to filter (or press Enter to skip):
</span></code></pre></div> <p>The script queries the Kubernetes API and lists matching Akri instances.</p> <h3 id=3-select-devices>3. Select Devices<a class=headerlink href=#3-select-devices title="Permanent link">ðŸ”—</a></h3> <p>After filtering, the script displays a list of available Akri instances, each with an index, UUID, device type, and application type. For example:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a>Available Akri Instances:
</span><span id=__span-4-2><a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a>[0] UUID: d95c7c2d-7dc5-427b-9bf7-51a5d299c99e, Device Type: esp32, Application Type: thermo
</span><span id=__span-4-3><a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a>[1] UUID: 44606d10-7c29-4098-9d6a-dc16f95090d1, Device Type: esp32, Application Type: thermo
</span></code></pre></div> <p>You are prompted to select devices:</p> <ul> <li><strong>Select All</strong>: Enter <code>y</code> to select all listed UUIDs.</li> <li><strong>Select Specific Devices</strong>: Enter <code>n</code> and provide a comma-separated list of indices (e.g., <code>0,1</code>).</li> </ul> <p>Example:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a>Do you want to select all UUIDs? (y/n): y
</span></code></pre></div> <h3 id=4-enter-firmware-details>4. Enter Firmware Details<a class=headerlink href=#4-enter-firmware-details title="Permanent link">ðŸ”—</a></h3> <p>Next, specify the firmware image to use for flashing the selected devices. Provide the full image path, including the repository and tag. For example:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-6-1><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a>Enter the firmware to use: harbor.nbfc.io/nubificus/esp32:x.x.xxxxxxx
</span></code></pre></div> <h3 id=5-configure-gradual-rollout-optional>5. Configure Gradual Rollout (Optional)<a class=headerlink href=#5-configure-gradual-rollout-optional title="Permanent link">ðŸ”—</a></h3> <p>To manage large-scale updates, the script supports gradual rollout in batches:</p> <ul> <li><strong>Batch Size</strong>: Specify the number of devices per batch (default: <code>5</code>).</li> <li><strong>Delay Between Batches</strong>: Specify the delay in seconds between batches (default: <code>60</code>).</li> </ul> <p>Example:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-7-1><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a>Enter the number of UUIDs per batch (default is 5): 2
</span><span id=__span-7-2><a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a>Enter the delay between batches in seconds (default is 60): 30
</span></code></pre></div> <h3 id=6-apply-the-flashjob>6. Apply the FlashJob<a class=headerlink href=#6-apply-the-flashjob title="Permanent link">ðŸ”—</a></h3> <p>The script generates a FlashJob YAML file (e.g., <code>flashjob_operator/config/samples/application_v1alpha1_flashjob.yaml</code>) with the selected UUIDs and firmware details. It then applies the YAML to the cluster using <code>kubectl</code>.</p> <p>Example output:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-8-1><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a>Applying batch 1 with UUIDs: [&#39;d95c7c2d-7dc5-427b-9bf7-51a5d299c99e&#39;, &#39;44606d10-7c29-4098-9d6a-dc16f95090d1&#39;]
</span><span id=__span-8-2><a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a>UUIDs saved to flashjob_operator/config/samples/application_v1alpha1_flashjob.yaml
</span><span id=__span-8-3><a id=__codelineno-8-3 name=__codelineno-8-3 href=#__codelineno-8-3></a>Successfully applied flashjob_operator/config/samples/application_v1alpha1_flashjob.yaml
</span><span id=__span-8-4><a id=__codelineno-8-4 name=__codelineno-8-4 href=#__codelineno-8-4></a>Waiting for 30 seconds before the next batch...
</span></code></pre></div> <p>For each batch, the script updates the YAML with the next set of UUIDs and applies it after the specified delay.</p> <h2 id=example-workflow>Example Workflow<a class=headerlink href=#example-workflow title="Permanent link">ðŸ”—</a></h2> <p>Hereâ€™s a complete example of running the script:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-9-1><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a>$ python3 filter_uuid.py
</span><span id=__span-9-2><a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a>Enter device type to filter (or press Enter to skip): esp32
</span><span id=__span-9-3><a id=__codelineno-9-3 name=__codelineno-9-3 href=#__codelineno-9-3></a>Enter application type to filter (or press Enter to skip): thermo
</span><span id=__span-9-4><a id=__codelineno-9-4 name=__codelineno-9-4 href=#__codelineno-9-4></a>Enter UUID to filter (or press Enter to skip):
</span><span id=__span-9-5><a id=__codelineno-9-5 name=__codelineno-9-5 href=#__codelineno-9-5></a>
</span><span id=__span-9-6><a id=__codelineno-9-6 name=__codelineno-9-6 href=#__codelineno-9-6></a>Available Akri Instances:
</span><span id=__span-9-7><a id=__codelineno-9-7 name=__codelineno-9-7 href=#__codelineno-9-7></a>[0] UUID: d95c7c2d-7dc5-427b-9bf7-51a5d299c99e, Device Type: esp32, Application Type: thermo
</span><span id=__span-9-8><a id=__codelineno-9-8 name=__codelineno-9-8 href=#__codelineno-9-8></a>[1] UUID: 44606d10-7c29-4098-9d6a-dc16f95090d1, Device Type: esp32, Application Type: thermo
</span><span id=__span-9-9><a id=__codelineno-9-9 name=__codelineno-9-9 href=#__codelineno-9-9></a>
</span><span id=__span-9-10><a id=__codelineno-9-10 name=__codelineno-9-10 href=#__codelineno-9-10></a>Do you want to select all UUIDs? (y/n): y
</span><span id=__span-9-11><a id=__codelineno-9-11 name=__codelineno-9-11 href=#__codelineno-9-11></a>Enter the firmware to use: harbor.nbfc.io/nubificus/esp32:x.x.xxxxxxx
</span><span id=__span-9-12><a id=__codelineno-9-12 name=__codelineno-9-12 href=#__codelineno-9-12></a>Enter the number of UUIDs per batch (default is 5): 2
</span><span id=__span-9-13><a id=__codelineno-9-13 name=__codelineno-9-13 href=#__codelineno-9-13></a>Enter the delay between batches in seconds (default is 60): 30
</span><span id=__span-9-14><a id=__codelineno-9-14 name=__codelineno-9-14 href=#__codelineno-9-14></a>
</span><span id=__span-9-15><a id=__codelineno-9-15 name=__codelineno-9-15 href=#__codelineno-9-15></a>Applying batch 1 with UUIDs: [&#39;d95c7c2d-7dc5-427b-9bf7-51a5d299c99e&#39;, &#39;44606d10-7c29-4098-9d6a-dc16f95090d1&#39;]
</span><span id=__span-9-16><a id=__codelineno-9-16 name=__codelineno-9-16 href=#__codelineno-9-16></a>UUIDs saved to flashjob_operator/config/samples/application_v1alpha1_flashjob.yaml
</span><span id=__span-9-17><a id=__codelineno-9-17 name=__codelineno-9-17 href=#__codelineno-9-17></a>Successfully applied flashjob_operator/config/samples/application_v1alpha1_flashjob.yaml
</span><span id=__span-9-18><a id=__codelineno-9-18 name=__codelineno-9-18 href=#__codelineno-9-18></a>Waiting for 30 seconds before the next batch...
</span></code></pre></div> <h2 id=generated-flashjob-yaml>Generated FlashJob YAML<a class=headerlink href=#generated-flashjob-yaml title="Permanent link">ðŸ”—</a></h2> <p>The script generates a YAML file like the following, which is used by the FlashJob Operator to manage firmware updates:</p> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-10-1><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">application.flashjob.nbfc.io/v1alpha1</span>
</span><span id=__span-10-2><a id=__codelineno-10-2 name=__codelineno-10-2 href=#__codelineno-10-2></a><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">FlashJob</span>
</span><span id=__span-10-3><a id=__codelineno-10-3 name=__codelineno-10-3 href=#__codelineno-10-3></a><span class=nt>metadata</span><span class=p>:</span>
</span><span id=__span-10-4><a id=__codelineno-10-4 name=__codelineno-10-4 href=#__codelineno-10-4></a><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">flashjob</span>
</span><span id=__span-10-5><a id=__codelineno-10-5 name=__codelineno-10-5 href=#__codelineno-10-5></a><span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">default</span>
</span><span id=__span-10-6><a id=__codelineno-10-6 name=__codelineno-10-6 href=#__codelineno-10-6></a><span class=nt>spec</span><span class=p>:</span>
</span><span id=__span-10-7><a id=__codelineno-10-7 name=__codelineno-10-7 href=#__codelineno-10-7></a><span class=w>  </span><span class=nt>applicationType</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">thermo</span>
</span><span id=__span-10-8><a id=__codelineno-10-8 name=__codelineno-10-8 href=#__codelineno-10-8></a><span class=w>  </span><span class=nt>device</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">esp32</span>
</span><span id=__span-10-9><a id=__codelineno-10-9 name=__codelineno-10-9 href=#__codelineno-10-9></a><span class=w>  </span><span class=nt>externalIP</span><span class=p>:</span>
</span><span id=__span-10-10><a id=__codelineno-10-10 name=__codelineno-10-10 href=#__codelineno-10-10></a><span class=w>  </span><span class=nt>firmware</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">harbor.nbfc.io/nubificus/esp32:x.x.xxxxxxx</span>
</span><span id=__span-10-11><a id=__codelineno-10-11 name=__codelineno-10-11 href=#__codelineno-10-11></a><span class=w>  </span><span class=nt>flashjobPodImage</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">harbor.nbfc.io/nubificus/iot/x.x.xxxxxxx</span>
</span><span id=__span-10-12><a id=__codelineno-10-12 name=__codelineno-10-12 href=#__codelineno-10-12></a><span class=w>  </span><span class=nt>hostEndpoint</span><span class=p>:</span>
</span><span id=__span-10-13><a id=__codelineno-10-13 name=__codelineno-10-13 href=#__codelineno-10-13></a><span class=w>  </span><span class=nt>uuid</span><span class=p>:</span>
</span><span id=__span-10-14><a id=__codelineno-10-14 name=__codelineno-10-14 href=#__codelineno-10-14></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">d95c7c2d-7dc5-427b-9bf7-51a5d299c99e</span>
</span><span id=__span-10-15><a id=__codelineno-10-15 name=__codelineno-10-15 href=#__codelineno-10-15></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">44606d10-7c29-4098-9d6a-dc16f95090d1</span>
</span><span id=__span-10-16><a id=__codelineno-10-16 name=__codelineno-10-16 href=#__codelineno-10-16></a><span class=w>  </span><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=s>&quot;0.2.0&quot;</span>
</span></code></pre></div> <h2 id=script-functions>Script Functions<a class=headerlink href=#script-functions title="Permanent link">ðŸ”—</a></h2> <p>The <code>filter_uuid.py</code> script includes the following key functions:</p> <ul> <li><strong>get_akri_instances()</strong>: Queries the Kubernetes API to retrieve Akri instances.</li> <li><strong>filter_instances()</strong>: Filters instances based on user-provided UUID, device type, and application type.</li> <li><strong>user_select_instances()</strong>: Handles interactive selection of Akri instances.</li> <li><strong>save_uuids_to_yaml()</strong>: Generates and saves the FlashJob YAML file with selected UUIDs and firmware details.</li> <li><strong>apply_yaml()</strong>: Applies the generated YAML file to the cluster using <code>kubectl</code>.</li> <li><strong>gradual_rollout()</strong>: Manages batch-based application of the YAML file with specified delays.</li> </ul> <h2 id=tips-notes>Tips &amp; Notes<a class=headerlink href=#tips-notes title="Permanent link">ðŸ”—</a></h2> <ul> <li><strong>Namespace</strong>: The script assumes Akri instances are in the <code>default</code> namespace. If your instances are in a different namespace, modify the script or specify the namespace in the YAML.</li> <li><strong>kubectl Context</strong>: Ensure the <code>kubectl</code> context is set to the correct cluster before running the script.</li> <li><strong>Troubleshooting</strong>: If the script or FlashJob application fails, check the FlashJob Operator logs: <div class="language-bash highlight"><pre><span></span><code><span id=__span-11-1><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a>kubectl<span class=w> </span>logs<span class=w> </span>-n<span class=w> </span>operator-system<span class=w> </span>deployment/flashjob-operator
</span></code></pre></div></li> <li><strong>Batch Configuration</strong>: Adjust batch size and delay for gradual rollout based on your clusterâ€™s capacity and device requirements.</li> </ul> <h2 id=troubleshooting-common-issues>Troubleshooting Common Issues<a class=headerlink href=#troubleshooting-common-issues title="Permanent link">ðŸ”—</a></h2> <ul> <li><strong>Error: Kubernetes API Unreachable</strong>: Verify that <code>kubectl</code> is configured correctly and the cluster is accessible.</li> <li><strong>No Akri Instances Found</strong>: Ensure Akri is deployed and instances are registered in the <code>default</code> namespace.</li> <li><strong>YAML Application Fails</strong>: Check the operator logs (<code>kubectl logs -n operator-system deployment/flashjob-operator</code>) and verify the firmware image is valid.</li> <li><strong>Script Fails to Save YAML</strong>: Ensure the script has write permissions in the target directory (<code>flashjob_operator/config/samples/</code>).</li> </ul> <p>This tutorial should help you effectively use the <code>filter_uuid.py</code> script to manage firmware updates for IoT devices with the FlashJob Operator. For further details on deploying the operator, see <a href=/docs/getting-started/installation.md>installation</a>.</p> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=akri-esp32.html class="md-footer__link md-footer__link--prev" aria-label="Previous: ESP32 Akri Component"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> ESP32 Akri Component </div> </div> </a> <a href=../developer/architecture.html class="md-footer__link md-footer__link--next" aria-label="Next: System Architecture"> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> System Architecture </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2023 - 2025 Nubificus LTD </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-progress data-md-component=progress role=progressbar></div> <script id=__config type=application/json>{"base": "..", "features": ["navigation.instant", "navigation.instant.progress", "navigation.indexes", "navigation.tracking", "navigation.top", "navigation.footer", "toc.follow", "content.code.copy", "content.tabs.link", "search.highlight", "search.suggest", "search.share"], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"alias": true, "provider": "mike"}}</script> <script src=../assets/javascripts/bundle.50899def.min.js></script> <script src=../assets/javascripts/console-copy.2759f0.min.js></script> </body> </html>